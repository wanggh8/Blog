---
title: 计算Halstead复杂度
date: 2019-04-15 21:06:55
tags: 软件测试

---

计算下列代码片段的Halstead 复杂度的11项内容：

<!--more-->

```c
if (month < 3) {
	month += 12;
	–year;
}
return dayray((int)(day + (month + 1) * 26/10 + year + year/4 + 6 * (year/100) + year/400)% 7);
```



## 难度度量元

| Operator | Number   | Operand    | Number   |
| -------- | -------- | ---------- | -------- |
| if       | 1        | month      | 3        |
| <        | 1        | year       | 5        |
| +=       | 1        | day        | 1        |
| -        | 1        | 3          | 1        |
| +        | 6        | 12         | 1        |
| *        | 2        | 1          | 1        |
| /        | 4        | 26         | 1        |
| %        | 1        | 10         | 1        |
| ()       | 1        | 4          | 1        |
|          |          | 6          | 1        |
|          |          | 100        | 1        |
|          |          | 400        | 1        |
|          |          | 7          | 1        |
|          |          | dayray     | 1        |
| $n_1=9$  | $N_1=18$ | $n_2 = 14$ | $N_2=20$ |

## 复杂度度量

### Halstead程序词汇表长度

$n=9+14=23$

### Halstead程序长度

$N=18+20=38$

### 程序预测长度

$N^∧ =9log_2 9+ 14log_2 14=28.529$ 

### 程序体积

$V=38log_2 23=171.912$

### 程序级别

$L^∧ = (2/9)*(7/10)=7/45$

### 程序难度

$D=45/7=6.429​$

### 编程工作量

$E=38log_2 23*(45/7)=(1710/7)log_2 23=1105.041$

### 语言级别

$L'=(7/45)*(7/45)* 38log_2 23=4.159$

### 编程时间

$T^∧  =0.017​$

### 平均语句大小

$38/4=9.5​$

### 程序中的错误数预测值

$B=0.0573​$